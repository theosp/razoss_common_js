var HPosition={fill:0,center:1,left:2,right:3},VPosition={fill:0,center:4,top:8,bottom:12},MovePosition={absolute:0,relative:1},NavigateTarget={current:0,newtab:1,newwindow:2},ShowMode={hide:0,show:1},NewWindowBehavior={defaultBehavior:0,razossPopup:1,hostCurrentTab:2,hostNewTab:3},KeywordsType={all:0,title:1,description:2,heading:4,bold:8},rgw={version:"0.11",RazossBrowser:false,Cache:{get:function(){return window.external.rapi_Cache_Get()},set:function(b){window.external.rapi_Cache_Set(b)},query:function(b,
a){window.external.rapi_Cache_Query(b,a)}},onLoad:function(){try{this.RazossBrowser=window.external.rapi_IsRazossBrowser()!=null}catch(b){this.RazossBrowser=null}},getFrameworkVersion:function(){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_GetFrameworkVersion()},getFrameworkDate:function(){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_GetFrameworkDate()},log:function(){if(!this.RazossBrowser)throw"Browser Not Supported";},registerEvent:function(b,
a){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_RegisterEvent(b,a)},unregisterEvent:function(b){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_UnregisterEvent(b)},navigate:function(b,a){if(!this.RazossBrowser)throw"Browser Not Supported";if(a==undefined)a=NavigateTarget.current;window.external.rapi_Navigate(b,a)},getCurrentPage:function(){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_GetCurrentURL()},
getCurrentTitle:function(){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_GetCurrentTitle()},getPageKeywords:function(b){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_GetPageKeywords(b)},getCurrentMetadata:function(b){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_GetCurrentMetadata(b)},getEngineVariable:function(b){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_GetEngineVariable(b)},
setNewWindowBehavior:function(b,a){if(!this.RazossBrowser)throw"Browser Not Supported";window.external.rapi_SetNewWindowBehavior(b,a)},postPageInfo:function(b,a){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_PostPageInfo(b,a)},postPageInfoAsync:function(){if(!this.RazossBrowser)throw"Browser Not Supported";},newWindow:function(b,a,c){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_NewWindow(b,a,c)},closeWindow:function(b){if(!this.RazossBrowser)throw"Browser Not Supported";
return window.external.rapi_CloseWindow(b)},getCurrentSize:function(){if(!this.RazossBrowser)throw"Browser Not Supported";var b=-1,a=-1;try{b=window.external.rapi_GetCurrentWidth();a=window.external.rapi_GetCurrentHeight()}catch(c){b=a=-1}return{width:b,height:a}},dock:function(b){if(!this.RazossBrowser)throw"Browser Not Supported";window.external.rapi_Dock(b)},dockEx:function(){if(!this.RazossBrowser)throw"Browser Not Supported";window.external.rapi_Dock(pos)},resize:function(b,a,c){if(!this.RazossBrowser)throw"Browser Not Supported";
if(c==undefined)c=true;window.external.rapi_Resize(b,a,c)},resizeKeepPosition:function(b,a,c){if(!this.RazossBrowser)throw"Browser Not Supported";window.external.rapi_Resize(b,a,c)},show:function(b){if(!this.RazossBrowser)throw"Browser Not Supported";window.external.rapi_Show(b)},isVisible:function(){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_IsVisible()},close:function(){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_Close()},
closeAllButThis:function(){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_CloseAllButThis()},getWindowPos:function(){if(!this.RazossBrowser)throw"Browser Not Supported";},setWindowPos:function(){if(!this.RazossBrowser)throw"Browser Not Supported";},setPositionOffset:function(){},setTrasparentColor:function(b){if(!this.RazossBrowser)throw"Browser Not Supported";window.external.rapi_SetTransparency(b)},getTrasparentColor:function(){if(!this.RazossBrowser)throw"Browser Not Supported";
return window.external.rapi_GetTransparency()},setOpacity:function(b){if(!this.RazossBrowser)throw"Browser Not Supported";window.external.rapi_SetOpacity(b)},getOpacity:function(){if(!this.RazossBrowser)throw"Browser Not Supported";return window.external.rapi_GetOpacity()},moveWindow:function(b,a,c){if(!this.RazossBrowser)throw"Browser Not Supported";window.external.rapi_MoveWindow(b,a,c)}};rgw.onLoad();
(function(b){b.RazossApi=function(a){if(typeof a==="undefined")a={};this.options=theosp.object.clone(this.options);b.extend(this.options,a);this.environment=null;this.init()};b.RazossApi.prototype=new EventEmitter;b.RazossApi.prototype.constructor=b.RazossApi;b.RazossApi.prototype.options={};b.RazossApi.prototype.$=function(a,c){a=theosp.string.supplant(a,{prefix:this.options.css_prefix});return b(a,c)};b.RazossApi.prototype.init=function(){this.environment=rgw.RazossBrowser?"razoss_browser":typeof GM_log!==
"undefined"?"greasemonkey":"direct_view";var a=this.getHostBrowser();b("html").addClass("host_browser-"+a[0])};b.RazossApi.prototype.getUid=function(){return this.environment==="razoss_browser"?rgw.getEngineVariable("engineid"):null};b.RazossApi.prototype.version=function(){return this.environment==="razoss_browser"?rgw.getEngineVariable("engineversion"):"plugin_mode"};b.RazossApi.prototype.openUrl=function(a){this.environment==="razoss_browser"?rgw.navigate(a):window.open(a);return this};b.RazossApi.prototype.printScreen=
function(){return this.environment==="razoss_browser"?"http://www.razoss.com/alpha/app/thumbs/"+rgw.postPageInfo("www.razoss.com","/razoss_services/razoss_uploader.php"):""};b.RazossApi.prototype.getWindowUrl=function(){return this.environment==="razoss_browser"?rgw.getCurrentPage():""};b.RazossApi.prototype.getWindowTitle=function(){return this.environment==="razoss_browser"?rgw.getCurrentTitle():""};b.RazossApi.prototype.getWindowDescription=function(){return this.environment==="razoss_browser"?
rgw.getCurrentMetadata("description"):""};b.RazossApi.prototype.dock=function(a,c){if(this.environment==="razoss_browser"){rgw.dock(HPosition[a]|VPosition[c]);document.body.style.backgroundColor=rgw.getTrasparentColor();rgw.setOpacity(255)}};b.RazossApi.prototype.getHostBrowser=function(){if(this.environment==="razoss_browser"){var a=rgw.getEngineVariable("hostbrowser").toLowerCase();a=/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||!/compatible/.test(a)&&
/(mozilla)(?:.*? rv:([\w.]+))?/.exec(a)||[];if(a[1]==="msie")a[1]="ie";return[a[1],a[2]]}else return["direct",0]};RAZOSS_API=new b.RazossApi;RAZOSS_API.listeners={};RAZOSS_API.getEventName=function(a){return"razoss_event_"+a};RAZOSS_API.newRazossEventListener=function(a){var c=this;if(c.environment==="razoss_browser")if(typeof RAZOSS_API.listeners[a]==="undefined"){window[c.getEventName(a)]=function(){var d=Array.prototype.slice.call(arguments);d.unshift(c.getEventName(a));RAZOSS_API.emit.apply(c,
d)};rgw.registerEvent(a,c.getEventName(a))}};RAZOSS_API.onRazossEvent=function(a,c){this.newRazossEventListener(a);this.on(this.getEventName(a),c)};RAZOSS_API.onceRazossEvent=function(a,c){this.newRazossEventListener(a);this.once(this.getEventName(a),c)};RAZOSS_API.removeRazossEventListener=function(a,c){this.newRazossEventListener(a);this.removeListener(this.getEventName(a),c)};RAZOSS_API.removeAllListeners=function(a){this.newRazossEventListener(a);this.removeListener(this.getEventName(a))}})(jQuery);
