var rapi_type={unknown:0,ie:1,cef:2},rapi_validator={get_type:function(){if(rapi_validator.validate_ie())return rapi_type.ie;else if(rapi_validator.validate_cef())return rapi_type.cef;return rapi_type.unknown},validate_ie:function(){try{return window.external.rapi_IsRazossBrowser()!==null}catch(a){}return false},validate_cef:function(){return typeof razoss!=="undefined"}};
if(rapi_validator.get_type()===rapi_type.ie)var HPosition={fill:0,center:1,left:2,right:3},VPosition={fill:0,center:4,top:8,bottom:12},MovePosition={absolute:0,relative:1},NavigateTarget={current:0,newtab:1,newwindow:2},ShowMode={hide:0,show:1},NewWindowBehavior={defaultBehavior:0,razossPopup:1,hostCurrentTab:2,hostNewTab:3},KeywordsType={all:0,title:1,description:2,heading:4,bold:8},rgw={version:"0.11",RazossBrowser:false,Cache:{get:function(){return window.external.rapi_Cache_Get()},set:function(a){window.external.rapi_Cache_Set(a)},
query:function(a,b){window.external.rapi_Cache_Query(a,b)}},onLoad:function(){try{this.RazossBrowser=window.external.rapi_IsRazossBrowser()!==null}catch(a){this.RazossBrowser=null}},breakIfNotRazossBrowser:function(){if(!this.RazossBrowser)throw"Browser Not Supported";},getFrameworkVersion:function(){this.breakIfNotRazossBrowser();return window.external.rapi_GetFrameworkVersion()},getFrameworkDate:function(){this.breakIfNotRazossBrowser();return window.external.rapi_GetFrameworkDate()},log:function(){this.breakIfNotRazossBrowser()},
registerEvent:function(a,b){this.breakIfNotRazossBrowser();return window.external.rapi_RegisterEvent(a,b)},unregisterEvent:function(a){this.breakIfNotRazossBrowser();return window.external.rapi_UnregisterEvent(a)},navigate:function(a,b){this.breakIfNotRazossBrowser();if(b===undefined)b=NavigateTarget.current;window.external.rapi_Navigate(a,b)},getCurrentPage:function(){this.breakIfNotRazossBrowser();return window.external.rapi_GetCurrentURL()},getCurrentTitle:function(){this.breakIfNotRazossBrowser();
return window.external.rapi_GetCurrentTitle()},getPageKeywords:function(a){this.breakIfNotRazossBrowser();return window.external.rapi_GetPageKeywords(a)},getCurrentMetadata:function(a){this.breakIfNotRazossBrowser();return window.external.rapi_GetCurrentMetadata(a)},getEngineVariable:function(a){this.breakIfNotRazossBrowser();return window.external.rapi_GetEngineVariable(a)},setStorageValue:function(a,b){this.breakIfNotRazossBrowser();window.external.rapi_SetStorageValue(a,b)},getStorageValue:function(a){this.breakIfNotRazossBrowser();
return window.external.rapi_GetStorageValue(a)},isStorageValueExists:function(a){this.breakIfNotRazossBrowser();return window.external.rapi_IsStorageValueExists(a)},executeScript:function(a){this.breakIfNotRazossBrowser();window.external.rapi_ExecuteScript(a)},setNewWindowBehavior:function(a,b){this.breakIfNotRazossBrowser();window.external.rapi_SetNewWindowBehavior(a,b)},postPageInfo:function(a,b){this.breakIfNotRazossBrowser();return window.external.rapi_PostPageInfo(a,b)},postPageInfoAsync:function(){this.breakIfNotRazossBrowser()},
newWindow:function(a,b,c){this.breakIfNotRazossBrowser();return window.external.rapi_NewWindow(a,b,c)},closeWindow:function(a){this.breakIfNotRazossBrowser();return window.external.rapi_CloseWindow(a)},getCurrentSize:function(){this.breakIfNotRazossBrowser();var a=-1,b=-1;try{a=window.external.rapi_GetCurrentWidth();b=window.external.rapi_GetCurrentHeight()}catch(c){a=b=-1}return{width:a,height:b}},dock:function(a){this.breakIfNotRazossBrowser();window.external.rapi_Dock(a)},dockEx:function(){this.breakIfNotRazossBrowser();
window.external.rapi_Dock(pos)},resize:function(a,b,c){this.breakIfNotRazossBrowser();if(c===undefined)c=true;window.external.rapi_Resize(a,b,c)},resizeKeepPosition:function(a,b,c){this.breakIfNotRazossBrowser();window.external.rapi_Resize(a,b,c)},show:function(a){this.breakIfNotRazossBrowser();window.external.rapi_Show(a)},isVisible:function(){this.breakIfNotRazossBrowser();return window.external.rapi_IsVisible()},close:function(){this.breakIfNotRazossBrowser();return window.external.rapi_Close()},
closeAllButThis:function(){this.breakIfNotRazossBrowser();return window.external.rapi_CloseAllButThis()},getWindowPos:function(){this.breakIfNotRazossBrowser()},setWindowPos:function(){this.breakIfNotRazossBrowser()},setPositionOffset:function(){},setTrasparentColor:function(a){this.breakIfNotRazossBrowser();window.external.rapi_SetTransparency(a)},getTrasparentColor:function(){this.breakIfNotRazossBrowser();return window.external.rapi_GetTransparency()},setOpacity:function(a){this.breakIfNotRazossBrowser();
window.external.rapi_SetOpacity(a)},getOpacity:function(){this.breakIfNotRazossBrowser();return window.external.rapi_GetOpacity()},moveWindow:function(a,b,c){this.breakIfNotRazossBrowser();window.external.rapi_MoveWindow(a,b,c)},FBLogin:function(a,b,c,h){window.external.rapi_FBLogin(a,b,c,h)},FBLogout:function(){window.external.rapi_FBLogout()},ChatDisconnect:function(a){window.external.rapi_ChatDisconnect(a)},ChatConnect:function(a){window.external.rapi_ChatConnect(a)},ChatSendMessage:function(a,
b,c){window.external.rapi_ChatSendMessage(a,b,c)}};else{HPosition={fill:0,center:1,left:2,right:3};VPosition={fill:0,center:4,top:8,bottom:12};MovePosition={absolute:0,relative:1};NavigateTarget={current:0,newtab:1,newwindow:2};ShowMode={hide:0,show:1};NewWindowBehavior={defaultBehavior:0,razossPopup:1,hostCurrentTab:2,hostNewTab:3};KeywordsType={all:0,title:1,description:2,heading:4,bold:8};rgw={version:"0.2",RazossBrowser:false,onLoad:function(){try{this.RazossBrowser=typeof window.razoss!=="undefined"}catch(a){this.RazossBrowser=
null}},breakIfNotRazossBrowser:function(){if(!this.RazossBrowser)throw"Browser Not Supported";},getFrameworkVersion:function(){this.breakIfNotRazossBrowser();return window.razoss.GetEngineVersion()},getFrameworkDate:function(){this.breakIfNotRazossBrowser();return window.razoss.GetEngineDate()},registerEvent:function(a,b){this.breakIfNotRazossBrowser();return window.razoss.RegisterEvent(a,b)},unregisterEvent:function(a){this.breakIfNotRazossBrowser();return window.razoss.UnregisterEvent(a)},navigate:function(a,
b){this.breakIfNotRazossBrowser();if(b===undefined)b=NavigateTarget.current;window.razoss.Navigate(a,b)},getCurrentPage:function(){this.breakIfNotRazossBrowser();return window.razoss.GetCurrentURL()},getCurrentTitle:function(){this.breakIfNotRazossBrowser();return window.razoss.GetCurrentTitle()},getEngineVariable:function(a){this.breakIfNotRazossBrowser();return window.razoss.GetEngineVariable(a)},setStorageValue:function(a,b){this.breakIfNotRazossBrowser();window.razoss.SetStorageValue(a,b)},getStorageValue:function(a){this.breakIfNotRazossBrowser();
return window.razoss.GetStorageValue(a)},isStorageValueExists:function(a){this.breakIfNotRazossBrowser();return window.razoss.IsStorageValueExists(a)},executeScript:function(a){this.breakIfNotRazossBrowser();window.razoss.ExecuteScript(a)},getPageSource:function(){this.breakIfNotRazossBrowser();return window.razoss.GetPageSource()},setNewWindowBehavior:function(){this.breakIfNotRazossBrowser()},dock:function(a){this.breakIfNotRazossBrowser();window.razoss.Dock(a)},resize:function(a,b,c){this.breakIfNotRazossBrowser();
if(c===undefined)c=true;window.razoss.Resize(a,b,c)},resizeKeepPosition:function(a,b,c){this.breakIfNotRazossBrowser();window.razoss.Resize(a,b,c)},show:function(a){this.breakIfNotRazossBrowser();window.razoss.Show(a)},setTrasparentColor:function(a){this.breakIfNotRazossBrowser();window.razoss.SetTransparency(a)},getTrasparentColor:function(){this.breakIfNotRazossBrowser();return"#"+window.razoss.GetTransparency()},setOpacity:function(a){this.breakIfNotRazossBrowser();window.razoss.SetOpacity(a)},
getOpacity:function(){this.breakIfNotRazossBrowser();return window.razoss.GetOpacity()}}}rgw.onLoad();
(function(a){function b(){if(i.jStorage)try{f=o(String(i.jStorage))}catch(d){i.jStorage="{}"}else i.jStorage="{}";l=i.jStorage?String(i.jStorage).length:0}function c(){try{i.jStorage=n(f);if(e){e.setAttribute("jStorage",i.jStorage);e.save("jStorage")}l=i.jStorage?String(i.jStorage).length:0}catch(d){}}function h(d){if(!d||typeof d!="string"&&typeof d!="number")throw new TypeError("Key name must be string or numeric");return true}if(!a||!(a.toJSON||Object.toJSON||window.JSON))throw Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");
var f={},i={jStorage:"{}"},e=null,l=0,n=a.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),o=a.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(d){return String(d).evalJSON()},k=false;_XMLService={isXML:function(d){return(d=(d?d.ownerDocument||d:0).documentElement)?d.nodeName!=="HTML":false},encode:function(d){if(!this.isXML(d))return false;try{return(new XMLSerializer).serializeToString(d)}catch(g){try{return d.xml}catch(j){}}return false},decode:function(d){var g="DOMParser"in
window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(j){var m=new ActiveXObject("Microsoft.XMLDOM");m.async="false";m.loadXML(j);return m};if(!g)return false;d=g.call("DOMParser"in window&&new DOMParser||window,d,"text/xml");return this.isXML(d)?d:false}};a.jStorage={version:"0.1.5.0",set:function(d,g){h(d);if(_XMLService.isXML(g))g={_is_xml:true,xml:_XMLService.encode(g)};f[d]=g;c();return g},get:function(d,g){h(d);if(d in f)return typeof f[d]=="object"&&f[d]._is_xml&&f[d]._is_xml?
_XMLService.decode(f[d].xml):f[d];return typeof g=="undefined"?null:g},deleteKey:function(d){h(d);if(d in f){delete f[d];c();return true}return false},flush:function(){f={};c();try{window.localStorage.clear()}catch(d){}return true},storageObj:function(){function d(){}d.prototype=f;return new d},index:function(){var d=[],g;for(g in f)f.hasOwnProperty(g)&&d.push(g);return d},storageSize:function(){return l},currentBackend:function(){return k},storageAvailable:function(){return!!k},reInit:function(){var d;
if(e&&e.addBehavior){d=document.createElement("link");e.parentNode.replaceChild(d,e);e=d;e.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(e);e.load("jStorage");d="{}";try{d=e.getAttribute("jStorage")}catch(g){}i.jStorage=d;k="userDataBehavior"}b()}};(function(){if("localStorage"in window)try{if(window.localStorage){i=window.localStorage;k="localStorage"}}catch(d){}else if("globalStorage"in window)try{if(window.globalStorage){i=window.globalStorage[window.location.hostname];
k="globalStorage"}}catch(g){}else{e=document.createElement("link");if(e.addBehavior){e.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(e);e.load("jStorage");var j="{}";try{j=e.getAttribute("jStorage")}catch(m){}i.jStorage=j;k="userDataBehavior"}else{e=null;return}}b()})()})(window.jQuery||window.$);
(function(a){a.RazossApi=function(b){if(typeof b==="undefined")b={};this.options=theosp.object.clone(this.options);a.extend(this.options,b);this.environment=null;this.init()};a.RazossApi.prototype=new EventEmitter;a.RazossApi.prototype.constructor=a.RazossApi;a.RazossApi.prototype.options={};a.RazossApi.prototype.iframe_links_targets={"default":"defaultBehavior",popup:"razossPopup",current:"hostCurrentTab",new_tab:"hostNewTab"};a.RazossApi.prototype.navigation_targets={current_window:"Current window",
new_tab:"New tab",new_window:"New window"};a.RazossApi.prototype.navigation_targets_ids={current_window:0,new_tab:1,new_window:2};a.RazossApi.prototype.default_navigation_target="current_window";a.RazossApi.prototype.$=function(b,c){b=theosp.string.supplant(b,{prefix:this.options.css_prefix});return a(b,c)};a.RazossApi.prototype.init=function(){this.environment=rgw.RazossBrowser?"razoss_browser":typeof GM_log!=="undefined"?"greasemonkey":"direct_view";var b=this.getHostBrowser();a("html").addClass("host_browser-"+
b[0])};a.RazossApi.prototype.getUid=function(){return this.environment==="razoss_browser"?rgw.getEngineVariable("engineid"):null};a.RazossApi.prototype.getInstaceId=function(){return this.environment==="razoss_browser"?rgw.getEngineVariable("hostinstanceid"):null};a.RazossApi.prototype.version=function(){return this.environment==="razoss_browser"?rgw.getEngineVariable("engineversion"):"plugin_mode"};a.RazossApi.prototype.openUrl=function(b,c){if(typeof c==="undefined"||!(c in this.navigation_targets))c=
"current_window";if(this.environment==="razoss_browser")rgw.navigate(b,this.navigation_targets_ids[c]);else if(c==="current_window")document.location=b;else if(c==="new_tab"||c==="new_window")window.open(b);return this};a.RazossApi.prototype.printScreen=function(){return this.environment==="razoss_browser"?"http://www.razoss.com/alpha/app/thumbs/"+rgw.postPageInfo("www.razoss.com","/razoss_services/razoss_uploader.php"):""};a.RazossApi.prototype.getWindowUrl=function(){return this.environment==="razoss_browser"?
rgw.getCurrentPage():"http://www.razoss.com/"};a.RazossApi.prototype.getWindowTitle=function(){return this.environment==="razoss_browser"?rgw.getCurrentTitle():"Razoss"};a.RazossApi.prototype.getWindowDescription=function(){return this.environment==="razoss_browser"?rgw.getCurrentMetadata("description"):""};a.RazossApi.prototype.setIframeLinksTarget=function(b,c){if(this.environment==="razoss_browser")if(typeof b!=="undefined"){if(typeof c==="undefined")c="default";c in this.iframe_links_targets||
(c="default");rgw.setNewWindowBehavior(b,NewWindowBehavior[this.iframe_links_targets[c]])}};a.RazossApi.prototype.dock=function(b,c){if(this.environment==="razoss_browser"){rgw.dock(HPosition[b]|VPosition[c]);document.body.style.backgroundColor=rgw.getTrasparentColor();rgw.setOpacity(255)}};a.RazossApi.prototype.getHostBrowser=function(){if(this.environment==="razoss_browser"){var b=rgw.getEngineVariable("hostbrowser").toLowerCase();b=/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(b)||
/(msie) ([\w.]+)/.exec(b)||!/compatible/.test(b)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(b)||[];if(b[1]==="msie")b[1]="ie";return[b[1],b[2]]}else return["direct",0]};a.RazossApi.prototype.put=function(b,c){if(this.environment==="razoss_browser")rgw.setStorageValue(b,c);else a.jStorage.storageAvailable()&&a.jStorage.set(b,c)};a.RazossApi.prototype.get=function(b,c){if(typeof c==="undefined")c=null;if(this.environment==="razoss_browser"){var h=rgw.getStorageValue(b);return h===""?c:h}else{if(a.jStorage.storageAvailable())return a.jStorage.get(b,
c);return c}};a.RazossApi.prototype.isChatAvailable=function(){if(this.environment==="razoss_browser")if(typeof window.external!=="undefined"&&typeof window.external.rapi_FBLogin!=="undefined")return true;return false};a.RazossApi.prototype.fbLogin=function(b,c,h,f){if(this.environment==="razoss_browser")return rgw.FBLogin(b,c,h,f)};a.RazossApi.prototype.fbLogout=function(){if(this.environment==="razoss_browser")return rgw.FBLogout()};a.RazossApi.prototype.chatDisconnect=function(b){if(this.environment===
"razoss_browser")return rgw.ChatDisconnect(b)};a.RazossApi.prototype.chatConnect=function(b){if(this.environment==="razoss_browser")return rgw.ChatConnect(b)};a.RazossApi.prototype.chatSendMessage=function(b,c,h){if(this.environment==="razoss_browser")return rgw.ChatSendMessage(b,c,h)};RAZOSS_API=new a.RazossApi;RAZOSS_API.listeners={};RAZOSS_API.getEventName=function(b){return"razoss_event_"+b};RAZOSS_API.newRazossEventListener=function(b){var c=this;if(c.environment==="razoss_browser")if(typeof RAZOSS_API.listeners[b]===
"undefined"){window[c.getEventName(b)]=function(){var h=Array.prototype.slice.call(arguments);h.unshift(c.getEventName(b));RAZOSS_API.emit.apply(c,h)};rgw.registerEvent(b,c.getEventName(b))}};RAZOSS_API.emitRazossEvent=function(b,c){c=Array.prototype.slice.call(arguments);c[0]=this.getEventName(c[0]);RAZOSS_API.emit.apply(this,c)};RAZOSS_API.onRazossEvent=function(b,c){this.newRazossEventListener(b);this.on(this.getEventName(b),c)};RAZOSS_API.onceRazossEvent=function(b,c){this.newRazossEventListener(b);
this.once(this.getEventName(b),c)};RAZOSS_API.removeRazossEventListener=function(b,c){this.newRazossEventListener(b);this.removeListener(this.getEventName(b),c)};RAZOSS_API.removeAllListeners=function(b){this.newRazossEventListener(b);this.removeListener(this.getEventName(b))};RAZOSS_API.windowQuery=function(b,c){if(typeof b==="undefined"||typeof c==="undefined")typeof console!=="undefined"&&console.log("ERROR: RAZOSS_API.windowQuery: requires two arguments.");else if(this.environment==="razoss_browser"){var h,
f,i=(new Date).getTime();for(f=0;f<b.length;f++){h=b[f];if(typeof h.condition==="undefined"&&f!==b.length-1){alert("RAZOSS_API.windowQuery: Query Syntax Error: only last object of query can omit the condition property.");return}}var e="",l=false;e+="var RAZOSS_execute_query = function () {";e+="var RAZOSS_new_location = '';";e+="if (String(document.location).indexOf('#') === -1) {RAZOSS_new_location += '#';} else {RAZOSS_new_location += '&';}";for(f=0;f<b.length;f++){h=b[f];l=true;if(typeof h.condition!==
"undefined"&&f===0)e+="if ("+h.condition+") {";else if(typeof h.condition!=="undefined")e+="else if ("+h.condition+") {";else if(typeof h.condition==="undefined"&&e.length>1)e+="else {";else l=false;e+="RAZOSS_new_location += ";for(var n in h.vars)if(h.vars.hasOwnProperty(n))e+='"'+n+'=" + '+h.vars[n]+' + "&" + ';e+='"rpqid'+i+'";';if(l===true)e+="}"}e+="document.location += RAZOSS_new_location;";e+="};";e+='if ( document.readyState === "complete" ) {RAZOSS_execute_query();} else {if ( document.addEventListener ) {window.addEventListener( "load", RAZOSS_execute_query, false );} else if ( document.attachEvent ) {window.attachEvent( "onload", RAZOSS_execute_query );}}';
var o=function(k){var d=NODE_URL.parse(k,false);if(typeof d.hash!=="undefined")d.parsed_hash=NODE_QUERY_STRING.parse(d.hash.substr(d.hash.indexOf("#")+1));k={};if(typeof d.parsed_hash!=="undefined"&&"rpqid"+i in d.parsed_hash){delete d.parsed_hash["rpqid"+i];for(var g in b[0].vars)if(b[0].vars.hasOwnProperty(g)){k[g]=d.parsed_hash[g];delete d.parsed_hash[g]}RAZOSS_API.removeRazossEventListener("onurlchanged",o);g=[];for(var j in d.parsed_hash)if(d.parsed_hash.hasOwnProperty(j)){var m=d.parsed_hash[j];
m!==""?g.push(j+"="+m):g.push(j)}d.hash="#";if(g.length!==0)d.hash+=g.join("&");delete d.parsed_hash;j=NODE_URL.format(d);j=j.replace("http::","http:");j=j.replace("https::","https:");rgw.executeScript('document.location = "'+j+'";');c(k)}};RAZOSS_API.onRazossEvent("onurlchanged",o);alert(e);rgw.executeScript(e)}};a("a.Rapi-navigate_current_window").live("click",function(){RAZOSS_API.openUrl(a(this).attr("href"),"current_window");return false});a("a.Rapi-navigate_new_tab").live("click",function(){RAZOSS_API.openUrl(a(this).attr("href"),
"new_tab");return false});a("a.Rapi-navigate_new_window").live("click",function(){RAZOSS_API.openUrl(a(this).attr("href"),"new_window");return false})})(jQuery);
